<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">

<mapper namespace="com.xjtlu.bio.mapper.BioAnalysisStageMapperExtension">
<!--  <resultMap id="BaseResultMap" type="com.xjtlu.bio.entity.BioPipelineStage">-->
<!--    &lt;!&ndash;-->
<!--      WARNING - @mbg.generated-->
<!--      This element is automatically generated by MyBatis Generator, do not modify.-->
<!--      This element was generated on Wed Dec 17 22:44:06 GMT 2025.-->
<!--    &ndash;&gt;-->
<!--    <id column="stage_id" jdbcType="BIGINT" property="stageId" />-->
<!--    <result column="pipeline_id" jdbcType="BIGINT" property="pipelineId" />-->
<!--    <result column="stage_index" jdbcType="INTEGER" property="stageIndex" />-->
<!--    <result column="stage_name" jdbcType="VARCHAR" property="stageName" />-->
<!--    <result column="status" jdbcType="INTEGER" property="status" />-->
<!--    <result column="start_time" jdbcType="TIMESTAMP" property="startTime" />-->
<!--    <result column="end_time" jdbcType="TIMESTAMP" property="endTime" />-->
<!--    <result column="input_url" jdbcType="VARCHAR" property="inputUrl" />-->
<!--    <result column="output_url" jdbcType="VARCHAR" property="outputUrl" />-->
<!--    <result column="stage_type" jdbcType="INTEGER" property="stageType" />-->
<!--    <result column="column_name" jdbcType="INTEGER" property="columnName" />-->
<!--  </resultMap>-->
<!--  <resultMap extends="BaseResultMap" id="ResultMapWithBLOBs"-->
<!--    type="com.xjtlu.bio.entity.BioPipelineStage">-->
<!--    &lt;!&ndash;-->
<!--      WARNING - @mbg.generated-->
<!--      This element is automatically generated by MyBatis Generator, do not modify.-->
<!--      This element was generated on Fri Oct 31 03:51:39 GMT 2025.-->
<!--    &ndash;&gt;-->
<!--    <result column="parameters" jdbcType="LONGVARCHAR" property="parameters" />-->
<!--  </resultMap>-->

<!--  <sql id="Base_Column_List">-->
<!--    &lt;!&ndash;-->
<!--      WARNING - @mbg.generated-->
<!--      This element is automatically generated by MyBatis Generator, do not modify.-->
<!--      This element was generated on Wed Dec 17 22:44:06 GMT 2025.-->
<!--    &ndash;&gt; stage_id, pipeline_id, stage_index, stage_name, status, start_time,-->
<!--    end_time, input_url, output_url, stage_type, column_name </sql>-->


  <insert id="batchInsert" keyColumn="stage_id" keyProperty="stageId"
    parameterType="java.util.List" useGeneratedKeys="true"> insert into bio_pipeline_stage
    (pipeline_id, stage_index, stage_name, status, start_time, end_time, input_url, output_url,
    stage_type, parameters) VALUES
    <foreach collection="stages" item="i" separator=",">
        (
            #{i.pipelineId,jdbcType=BIGINT},
            #{i.stageIndex,jdbcType=INTEGER},
            #{i.stageName,jdbcType=VARCHAR},
            #{i.status,jdbcType=INTEGER},
            #{i.startTime,jdbcType=TIMESTAMP},
            #{i.endTime,jdbcType=TIMESTAMP},
            #{i.inputUrl,jdbcType=VARCHAR},
            #{i.outputUrl,jdbcType=VARCHAR},
            #{i.stageType,jdbcType=INTEGER},
            #{i.parameters,jdbcType=LONGVARCHAR}
        )
    </foreach>
  </insert>

  <!-- batchInsertSelectives -->

  <!-- updateStatusTo -->

  <!-- selectByIdForUpdate -->
<!--  <select id="selectByIdForUpdate"-->
<!--    parameterType="long"-->
<!--    resultMap="BaseResultMap"> SELECT <include refid="Base_Column_List" /> FROM bio_pipeline_stage-->
<!--    WHERE stage_id = #{stageId} </select>-->

</mapper>